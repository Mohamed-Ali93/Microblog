<div class="container py-4">
  <h1 class="h3 text-center mb-4">Timeline</h1>

  <div class="text-center mb-4">
    <a [routerLink]="['/posts/create']" class="btn btn-primary">
      Create New Post
    </a>
  </div>

  <div
    *ngFor="let post of itemsWithUrls; trackBy: trackByFn"
    class="card mb-4"
  >
    <div class="card-body">
      <p class="card-text">{{ post.content }}</p>
      <small class="text-muted">
        Posted by {{ post.username }} â€“ {{ post.creationTime | date: 'medium' }}
      </small>
    </div>

    <ng-container *ngIf="post.hasImage">
      <img
        [src]="post.imageUrl"
        class="card-img-bottom img-fluid"
        style="max-height: 400px; object-fit: cover;"
        (error)="onImageError($event)"
        loading="lazy"
      />
    </ng-container>
  </div>

  <div *ngIf="loading" class="text-center py-3">
    Loading more posts...
  </div>
</div>
