<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Create New Post</h1>
    
    <form 
      [formGroup]="postForm" 
      (ngSubmit)="onSubmit()" 
      class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"
    >
      <div class="mb-4">
        <label 
          class="block text-gray-700 text-sm font-bold mb-2" 
          for="content"
        >
          Post Content  
        </label>
        <textarea 
          formControlName="content"
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          placeholder="What's happening?"
          maxlength="140"
          rows="3" cols="50"
        ></textarea>
        <p 
          class="text-sm text-gray-600 mt-1"
        >
          {{ postForm.get('content')?.value?.length || 0 }}/140 characters
        </p>
      </div>
  
      <div class="mb-4">
        <label 
          class="block text-gray-700 text-sm font-bold mb-2"
        >
          Upload Image (Optional)
        </label>
        <input 
          type="file" 
          (change)="onFileSelected($event)"
          accept=".jpg,.jpeg,.png,.webp"
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        >
      </div>
  
      <div *ngIf="previewUrl" class="mb-4 ">
        <img 
          [src]="previewUrl" 
          alt="Image preview" 
          class="max-w-full h-auto rounded"
        >
        <button 
          type="button" 
          (click)="removeImage()"
          class="mt-2 btn btn-danger text-white font-bold py-2 px-4 rounded"
        >
          Remove Image
        </button>
      </div>
  
      <div class="flex items-center justify-between">
        <button 
          type="submit" 
          [disabled]="!postForm.valid"
          class="btn btn-primary ng-star-inserted py-2 px-4 rounded text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
        >
          Post
        </button>
      </div>
    </form>
  </div>